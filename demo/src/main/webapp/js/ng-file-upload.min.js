/*! 5.0.9 */
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="5.0.9",function(){function a(a,c,d){function e(b){b.method=b.method||"POST",b.headers=b.headers||{};var e=c.defer(),f=e.promise;return b.headers.__setXHR_=function(){return function(a){a&&(b.__XHR=a,b.xhrFn&&b.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=b,e.notify?e.notify(a):f.progressFunc&&d(function(){f.progressFunc(a)})},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=b,e.notify?e.notify(a):f.progressFunc&&d(function(){f.progressFunc(a)}))},!1))}},a(b).then(function(a){e.resolve(a)},function(a){e.reject(a)},function(a){e.notify(a)}),f.success=function(a){return f.then(function(c){a(c.data,c.status,c.headers,b)}),f},f.error=function(a){return f.then(null,function(c){a(c.data,c.status,c.headers,b)}),f},f.progress=function(a){return f.progressFunc=a,f.then(null,null,function(b){a(b)}),f},f.abort=function(){return b.__XHR&&d(function(){b.__XHR.abort()}),f},f.xhr=function(a){return b.xhrFn=function(b){return function(){b&&b.apply(f,arguments),a.apply(f,arguments)}}(b.xhrFn),f},f}function f(){return angular.copy(b)}function g(a){function b(c,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))c.append(e,d);else if("form"===a.sendFieldsAs)if(angular.isObject(d))for(var f in d)d.hasOwnProperty(f)&&b(c,d[f],e+"["+f+"]");else c.append(e,d);else d=angular.isString(d)?d:JSON.stringify(d),"json-blob"===a.sendFieldsAs?c.append(e,new Blob([d],{type:"application/json"})):c.append(e,d)}return a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(c){var d,e=new FormData,f={};for(d in a.fields)a.fields.hasOwnProperty(d)&&(f[d]=a.fields[d]);c&&(f.data=c);for(d in f)if(f.hasOwnProperty(d)){var g=f[d];a.formDataAppender?a.formDataAppender(e,d,g):b(e,g,d)}if(null!=a.file){var h=a.fileFormDataName||"file";if(angular.isArray(a.file))for(var i=angular.isString(h),j=0;j<a.file.length;j++)e.append(i?h:h[j],a.file[j],a.fileName&&a.fileName[j]||a.file[j].name);else e.append(h,a.file,a.fileName||a.file.name)}return e}),e(a)}function h(b){return b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof Blob?b:a.defaults.transformRequest[0](arguments)},e(b)}return{upload:g,http:h,getDefaults:f}}var b={accept:null,allowDir:!1,capture:null,disabled:!1,dragOverClass:"dragover",dragOverDelay:1,hideOnDropNotAvailable:!1,keep:!1,keepDistinct:!1,maxFileSize:9007199254740991,minFileSize:-1,multiple:!1,ngfAccept:null,resetOnClick:!0,resetOnModelClick:!0,src:"",stopPropagation:!1};ngFileUpload.provider("Upload",[function(){this.setDefaults=function(a){angular.extend(b,a||{})},this.$get=["$http","$q","$timeout",a]}])}(),function(){function a(a,f,g,h,i,j,k){function l(){return"input"===f[0].tagName.toLowerCase()&&g.type&&"file"===g.type.toLowerCase()}function m(b){if(!s){s=!0;try{for(var c=b.__files_||b.target&&b.target.files,f=[],k=[],l=0;l<c.length;l++){var m=c.item(l);d(a,i,g,m,b)?f.push(m):k.push(m)}e(i,j,a,h,g,g.ngfChange||g.ngfSelect,f,k,b),0===f.length&&(b.target.value=f)}finally{s=!1}}}function n(b){c.multiple&&b.attr("multiple",c.multiple),g.ngfMultiple&&b.attr("multiple",i(g.ngfMultiple)(a)),c.capture&&b.attr("capture",c.capture),g.ngfCapture&&b.attr("capture",i(g.ngfCapture)(a)),c.accept&&b.attr("accept",c.accept),g.accept&&b.attr("accept",g.accept);for(var d=0;d<f[0].attributes.length;d++){var e=f[0].attributes[d];(l()&&"type"!==e.name||"type"!==e.name&&"class"!==e.name&&"id"!==e.name&&"style"!==e.name)&&b.attr(e.name,e.value)}}function o(b,c){if(!c&&(b||l()))return f.$$ngfRefElem||f;var d=angular.element('<input type="file">');return n(d),l()?(f.replaceWith(d),f=d,d.attr("__ngf_gen__",!0),k(f)(a)):(d.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("z-index","-100000").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),f.$$ngfRefElem&&f.$$ngfRefElem.remove(),f.$$ngfRefElem=d,document.body.appendChild(d[0])),d}function p(b){e(i,j,a,h,g,g.ngfChange||g.ngfSelect,[],[],b,!0)}function q(d){function e(a){a&&k[0].click(),(l()||!a)&&f.bind("click touchend",q)}if(f.attr("disabled")||r)return!1;null!=d&&(d.preventDefault(),d.stopPropagation());var h=g.ngfResetOnClick?i(g.ngfResetOnClick)(a)!==!1:c.resetOnClick,j=g.ngfResetModelOnClick?i(g.ngfResetModelOnClick)(a)!==!1:c.resetOnModelClick,k=o(d,h);return k&&((!d||h)&&k.bind("change",m),d&&h&&j&&p(d),b(navigator.userAgent)?setTimeout(function(){e(d)},0):e(d)),!1}if(!f.attr("__ngf_gen__")){a.$on("$destroy",function(){f.$$ngfRefElem&&f.$$ngfRefElem.remove()});var r=c.disabled;-1===g.ngfSelect.search(/\W+$files\W+/)&&a.$watch(g.ngfSelect,function(a){r=a===!1});var s=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(f,o,n,m):q()}}function b(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);return b&&b.length>2?parseInt(b[1])<4||4===parseInt(b[1])&&parseInt(b[2])<4:/.*Windows.*Safari.*/.test(a)}var c;ngFileUpload.run(["Upload",function(a){c=a.getDefaults()}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile",function(b,c,d){return{restrict:"AEC",require:"?ngModel",link:function(e,f,g,h){a(e,f,g,h,b,c,d)}}}]),ngFileUpload.validate=function(a,b,d,e,f){function g(a){if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])return a.substring(1,a.length-1);var b=a.split(","),c="";if(b.length>1)for(var d=0;d<b.length;d++)c+="("+g(b[d])+")",d<b.length-1&&(c+="|");else 0===a.indexOf(".")&&(a="*"+a),c="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",c=c.replace(/\\\*/g,".*").replace(/\\\?/g,".");return c}var h=b(d.ngfAccept)(a,{$file:e,$event:f})||("function"==typeof c.ngfAccect?c.ngfAccect(e,f):c.ngfAccect),i=b(d.ngfMaxSize)(a,{$file:e,$event:f})||c.maxFielSize,j=b(d.ngfMinSize)(a,{$file:e,$event:f})||c.minFileSize;if(null!=h&&angular.isString(h)){var k=new RegExp(g(h),"gi");h=null!=e.type&&k.test(e.type.toLowerCase())||null!=e.name&&k.test(e.name.toLowerCase())}return(null==h||h)&&(null==e.size||e.size<i&&e.size>j)},ngFileUpload.updateModel=function(a,b,d,e,f,g,h,i,j,k){function l(){var k=f.ngfKeep?a(f.ngfKeep)(d)===!0:c.keep,l=f.ngfKeepDistinct?a(f.ngfKeepDistinct)(d)===!0:c.keepDistinct;if(k){var m=(e.$modelValue||[]).slice(0);if(h&&h.length)if(l){for(var n=m.length,o=0;o<h.length;o++){for(var p=0;n>p&&h[o].name!==m[p].name;p++);p===n&&m.push(h[o])}h=m}else h=m.concat(h);else h=m}e&&(a(f.ngModel).assign(d,h),b(function(){e&&e.$setViewValue(null!=h&&0===h.length?null:h)})),f.ngModelRejected&&a(f.ngModelRejected).assign(d,i),g&&a(g)(d,{$files:h,$rejectedFiles:i,$event:j})}k?l():b(function(){l()})};var d=ngFileUpload.validate,e=ngFileUpload.updateModel}(),function(){function a(a,f,g,h,i,j,k){function l(a,b,e){var f=!0,g=e.dataTransfer.items;if(null!=g)for(var h=0;h<g.length&&f;h++)f=f&&("file"===g[h].kind||""===g[h].kind)&&d(a,i,b,g[h],e);var j=i(b.ngfDragOverClass)(a,{$event:e});return j&&(j.delay&&(s=j.delay),j.accept&&(j=f?j.accept:j.reject)),j||b.ngfDragOverClass||c.dragOverClass}function m(b,c,e,f){function h(c){d(a,i,g,c,b)?m.push(c):n.push(c)}function l(a,b,c){if(null!=b)if(b.isDirectory){var d=(c||"")+b.name;h({name:b.name,type:"directory",path:d});var e=b.createReader(),f=[];p++;var g=function(){e.readEntries(function(d){try{if(d.length)f=f.concat(Array.prototype.slice.call(d||[],0)),g();else{for(var e=0;e<f.length;e++)l(a,f[e],(c?c:"")+b.name+"/");p--}}catch(h){p--,console.error(h)}},function(){p--})};g()}else p++,b.file(function(a){try{p--,a.path=(c?c:"")+a.name,h(a)}catch(b){p--,console.error(b)}},function(){p--})}var m=[],n=[],o=b.dataTransfer.items,p=0;if(o&&o.length>0&&"file"!==k.protocol())for(var q=0;q<o.length;q++){if(o[q].webkitGetAsEntry&&o[q].webkitGetAsEntry()&&o[q].webkitGetAsEntry().isDirectory){var r=o[q].webkitGetAsEntry();if(r.isDirectory&&!e)continue;null!=r&&l(m,r)}else{var s=o[q].getAsFile();null!=s&&h(s)}if(!f&&m.length>0)break}else{var t=b.dataTransfer.files;if(null!=t)for(var u=0;u<t.length&&(h(t.item(u)),f||!(m.length>0));u++);}var v=0;!function w(a){j(function(){if(p)10*v++<2e4&&w(10);else{if(!f&&m.length>1){for(q=0;"directory"===m[q].type;)q++;m=[m[q]]}c(m,n)}},a||0)}()}var n=b();if(g.dropAvailable&&j(function(){a[g.dropAvailable]?a[g.dropAvailable].value=n:a[g.dropAvailable]=n}),!n){var o=g.ngfHideOnDropNotAvailable?i(g.ngfHideOnDropNotAvailable)(a)===!0:c.hideOnDropNotAvailable;return void(o&&f.css("display","none"))}var p=c.disabled;-1===g.ngfDrop.search(/\W+$files\W+/)&&a.$watch(g.ngfDrop,function(a){p=a===!1});var q,r=null,s=c.dragOverDelay,t=function(){return g.ngfStopPropagation?i(g.ngfStopPropagation)(a):c.stopPropagation};f[0].addEventListener("dragover",function(b){if(!f.attr("disabled")&&!p){if(b.preventDefault(),t(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var c=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===c||"linkMove"===c?"move":"copy"}j.cancel(r),a.actualDragOverClass||(q=l(a,g,b)),f.addClass(q)}},!1),f[0].addEventListener("dragenter",function(a){f.attr("disabled")||p||(a.preventDefault(),t()&&a.stopPropagation())},!1),f[0].addEventListener("dragleave",function(){f.attr("disabled")||p||(r=j(function(){f.removeClass(q),q=null},s))},!1),f[0].addEventListener("drop",function(b){if(!f.attr("disabled")&&!p){b.preventDefault(),t()&&b.stopPropagation(),f.removeClass(q),q=null;var d=g.multiple||i(g.ngfMultiple)(a)||c.multiple,k=g.ngfAllowDir?i(g.ngfAllowDir)(a)!==!1:c.allowDir;m(b,function(c,d){e(i,j,a,h,g,g.ngfChange||g.ngfDrop,c,d,b)},k,d)}},!1)}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a}var c,d=ngFileUpload.validate,e=ngFileUpload.updateModel;ngFileUpload.run(["Upload",function(a){c=a.getDefaults(),console.log(c)}]),ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location",function(b,c,d){return{restrict:"AEC",require:"?ngModel",link:function(e,f,g,h){a(e,f,g,h,b,c,d)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout",function(a,c){return function(d,e,f){if(b()){var g=a(f.ngfDropAvailable);c(function(){g(d),g.assign&&g.assign(d,!0)})}}}]),ngFileUpload.directive("ngfSrc",["$parse","$timeout",function(a,b){return{restrict:"AE",link:function(e,f,g){window.FileReader&&e.$watch(g.ngfSrc,function(h){h&&d(e,a,g,h,null)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||h.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||h.size<4e6)?b(function(){var a=window.URL||window.webkitURL;if(a&&a.createObjectURL)f.attr("src",a.createObjectURL(h));else{var c=new FileReader;c.readAsDataURL(h),c.onload=function(a){b(function(){f.attr("src",a.target.result)})}}}):f.attr("src",g.ngfDefaultSrc||c.src)})}}}])}();